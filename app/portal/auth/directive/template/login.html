<img alt="detail" class="top-left-detail" src="assets/img/bottom-right.svg" ng-class="{active:(currentSection === sections.login)}" />
<div class="top-left-detail-big" ng-class="{active:(currentSection === sections.login)}">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 540 350">
        <path fill="#600202">
            <animate attributeName="d" dur="10s" repeatCount="indefinite"
                     keyTimes="0; 0.5; 1"
                     values="
                     M0,0 V311 L79.4,208.5 L196.7,155.5 L304.7,78.5 L412.4,52.3 L531.4,0 Z;
                     M0,0 V350 L79,208     L170,180     L304.7,75   L412.4,55   L500,0   Z;
                     M0,0 V311 L79.4,208.5 L196.7,155.5 L304.7,78.5 L412.4,52.3 L531.4,0 Z" />
        </path>
        <path fill="#9b0d0d">
            <animate attributeName="d" dur="10s" repeatCount="indefinite"
                     keyTimes="0; 0.5; 1"
                     values="
                     M0,0 V124.4 L79.4,208.8 L150.4,0 Z;
                     M0,0 V75    L79,208     L145,0 Z;
                     M0,0 V124.4 L79.4,208.8 L150.4,0 Z" />
        </path>
        <path fill="#d30f0f">
            <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0; 0.5; 1" values="
                     M150.5,0 L106.3,129.3 L251.60000000000002,116.30000000000001 L304.6,78.30000000000001 L150.60000000000002,1.4210854715202004e-14 Z;
                     M145,0   L104,128     L235,130                               L304.6,75                L150.60000000000002,1.4210854715202004e-14 Z;
                     M150.5,0 L106.3,129.3 L251.60000000000002,116.30000000000001 L304.6,78.30000000000001 L150.60000000000002,1.4210854715202004e-14 Z" />
        </path>
        <path fill="#9b0d0d">
            <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0; 0.5; 1" values="
                     M375.5,0 L304.5,78.7 L412.5,52.5 L410.7,0 Z;
                     M380,0   L304.5,75   L412.5,55   L385,0 Z;
                     M375.5,0 L304.5,78.7 L412.5,52.5 L410.7,0 Z" />
        </path>
        <path fill="#d30f0f">
            <animate attributeName="d" dur="10s" repeatCount="indefinite" keyTimes="0; 0.5; 1" values="
                     M0,241.8 V311 L80,208.00000000000003 L0,242.00000000000003 Z;
                     M0,100   V350 L79,208                L0,242.00000000000003 Z;
                     M0,241.8 V311 L80,208.00000000000003 L0,242.00000000000003 Z" />
        </path>
        <!--     calcMode="spline" keySplines="0 0.75 0.25 1" -->
    </svg>
</div>


<section ng-show="currentSection === sections.login">
    <div class="header-login">
        <div class="logo">
            <img src="assets/img/connecta.png" alt="logo" title="Connecta version {{package.version}}" class="logo-app-master" />
        </div>
    </div>
    <div class="form-login">
        <form name="loginForm" ng-submit="submit()">
            <div class="line-form">
                <span class="icon-mail"></span>
                <div class="field-text">
                    <input type="text" placeholder="{{'USER.EMAIL'| translate}}" ng-model="credentials.email" required autofocus />
                    <div class="material-border"></div>
                </div>
            </div>
            <div class="line-form">
                <span class="icon-lock"></span>
                <div class="field-text">
                    <input type="password" placeholder="{{'AUTH.PASSWORD'| translate}}" ng-model="credentials.password" required />
                    <div class="material-border"></div>
                </div>
            </div>
            <button class="btn-login" translate>AUTH.LOGIN</button>
        </form>
        <div class="add-account">
            <a href="javascript:void(0);" ng-click="setSection(sections.forgotPassword)" translate="">LAYOUT.RECOVERY_PASSWORD</a>
        </div>
        <div class="add-account">
            <a href="javascript:void(0);" ng-click="setSection(sections.form)" translate="">LAYOUT.ADD_ACC</a>
        </div>
    </div>
    <!--    <div id="social-login">
          <div id="separator-login">
              <div class="line-separator"><hr /></div>
              <div class="line-separator-txt">{{'LAYOUT.OR' | translate}}</div>
              <div class="line-separator"><hr /></div>
          </div>
          <a href class="btn-social btn-facebook"
             data-ng-click="loginWithFacebook()">
              <span class="icon-facebook-with-circle"></span>
              {{'LAYOUT.LOGIN_FACEBOOK' | translate}}
          </a>
          <div id="loginGoogle" class="btn-social btn-google" ng-click="loginWithGoogle()" style="cursor: pointer">
              <span class="icon icon-google-with-circle"></span>
              {{'LAYOUT.LOGIN_GOOGLE' | translate}}
          </div>
    </div>-->

</section>

<div class="create-account-form" ng-show="currentSection === sections.forgotPassword">

    <div class="header-login">
        <div class="logo">
            <img src="assets/img/connecta.png" alt="logo" title="Connecta version {{package.version}}" class="logo-app-master" />
        </div>
    </div>

    <h3>{{'LAYOUT.FORGOT_MSG'| translate}}</h3>

    <div class="form-account">
        <form novalidate name="user_pass_form" ng-submit="forgotPassword()">
            <div class="form-group has-feedback">
                <label for="email" translate>USER.EMAIL</label>
                <input type="email" class="form-control" id="email" name="email"
                       ng-model="emailRecoverPass" required maxlength="100" />
                <div ng-show="user_pass_form.emailRecoverPass.$touched" ng-messages="user_pass_form.RecoverPass.$error" 
                     ng-messages-include="portal-error-messages"></div>
            </div>
            <div class="text-right margin-top-single">
                <a ng-click="setSection(sections.login)" class="btn btn-default" translate>
                    LAYOUT.BACK
                </a>
                <button class="btn btn-primary" type='button' translate 
                        ng-disabled="user_config_fouser_pass_formrm.$invalid" 
                        ng-click="forgotPassword()">
                    LAYOUT.SEND
                </button>
            </div>
        </form>
    </div>
</div>
<div class="create-account-form" ng-show="currentSection === sections.forgotForm">

    <div class="header-login">
        <div class="logo">
            <img src="assets/img/connecta.png" alt="logo" title="Connecta version {{package.version}}" class="logo-app-master" />
        </div>
    </div>

    <h3>
        {{'USER.RESET_PASS'|translate}}
    </h3>

    <div class="form-account">
        <form novalidate name="forgot_password_form" ng-submit="savePassword()">

            <div class="form-group">
                <label for="new_password" translate>USER.NEW_PASSWORD</label>
                <input type="password" class="form-control" id="new_password" name="new_password"
                       ng-model="credentials.password" maxlength="20" minlength='8' required />
                <div class="has-error has-feedback" ng-show="forgot_password_form.new_password.$touched" ng-messages="forgot_password_form.new_password.$error"
                     ng-messages-include="portal-error-messages"><span></span>
                    <p ng-message="minlength" class="help-block">{{'USER.VALIDATION.SHORT_PASS'| translate}}</p>
                </div>
            </div>
            <div class="form-group">
                <label for="confirm_pass" translate>USER.CONFIRM_PASS</label>
                <input type="password" class="form-control" id="confirm_pass" name="confirm_pass"
                       ng-model="credentials.confirm_pass" compare-to='credentials.password'
                       ng-model-options="{debounce: 500}" required>
                    <div class="has-error has-feedback"ng-show="forgot_password_form.confirm_pass.$dirty" ng-messages="forgot_password_form.confirm_pass.$error"
                         ng-messages-include="portal-error-messages">
                        <p ng-message="compareTo" class="help-block">{{'USER.VALIDATION.COMPARE_PASS'| translate}}</p>
                    </div>
            </div>
            <div class="text-right">
                <button ng-click="cancel()" type="button" class="btn btn-default" translate>
                    LAYOUT.CANCEL
                </button>
                <button class="btn btn-primary" ng-disabled="forgot_password_form.$invalid" translate>
                    USER.CHANGE_PASS
                </button>
            </div>
        </form>
    </div>
</div>

<div class="domain-list" ng-show="currentSection === sections.domain">
    <h3>
        {{'DOMAIN.SELECT_DOMAIN_START'|translate}}

        <span class="icon-info">
            <div class="help-info" translate>
                DOMAIN.HELP_INFO
            </div>
        </span>
    </h3>

    <div class="thumbnail-grid row">
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12" ng-repeat="domain in domains">
            <div class="thumbnail-grid-item" ng-class="{'thumbnail-grid-item-editing':domainBeingEdited === $index}">
                <div class="thumbnail-grid-item-head" ng-click="selectDomain(domain)"
                     style="background-color:{{domain.theme}}">
                    <div class="thumbnail-grid-item-head-name">{{domain.name}}</div>
                    <div ng-click="showConfiguration($index)" class="icon-cog"></div>
                </div>
                <div class="thumbnail-grid-item-form" click-out="domainBeingEdited=null"
                     style="border-color:{{domain.theme}}">
                    <form novalidate name="domainForm" ng-submit="domain.id ? updateDomain(domain) : createDomain(domain)">
                        <div>
                            <span class="icon-edit2"></span>
                            <input ng-model="domain.name" name="name" class="name-input"
                                   placeholder="{{'DOMAIN.NAME'|translate}}" autofocus required
                                   style="border-bottom-color: {{domain.theme}}"/>
                            <div ng-show="domainForm.name.$touched" ng-messages="domainForm.name.$error" 
                                 ng-messages-include="portal-error-messages"></div>
                        </div>
                        <div class="form-group">
                            <label translate>DOMAIN.INVITE</label>
                            <input ng-model="invite.emails" class="form-control" placeholder="{{'DOMAIN.SEARCH'| translate}}" />
                        </div>
                        <div class="colors" ng-init="domain.theme = domain.theme ? domain.theme : colors[0]">
                            <ul>
                                <li ng-repeat="color in colors" class="circle"
                                    ng-click="domain.theme = color"
                                    style="background-color:{{color}};" ng-class="{
                                        active: domain.theme == color
                                    }"></li>
                            </ul>
                        </div>
                        <div class="clearfix margin-top-single">
                            <button type="button" class="btn btn-default pull-left" ng-click="deleteDomain(domain.id, $index)" ng-if="domain.id" translate>
                                DOMAIN.DELETE
                            </button>
                            <button type="button" class="btn btn-default pull-left" ng-if="!domain.id" translate
                                    ng-click="domains.splice($index, 1)">
                                LAYOUT.CANCEL
                            </button>
                            <button class="btn btn-primary pull-right" ng-if="domain.id"
                                    style="background-color:{{domain.theme}}" translate>
                                DOMAIN.SAVE
                            </button>
                            <button ng-if="!domain.id" class="btn btn-primary pull-right" ng-disabled="domainForm.$invalid" translate>
                                DOMAIN.CREATE
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
            <div class="thumbnail-grid-item thumbnail-grid-item-new" ng-click="newDomain()">
                <div class="thumbnail-grid-item-head">
                    <div class="thumbnail-grid-item-head-name" translate>DOMAIN.NEW</div>
                    <div class="icon-plus2"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-show="currentSection === sections.form" class="create-account-form">

    <div class="header-login">
        <div class="logo">
            <img src="assets/img/connecta.png" alt="logo" class="logo-app-master" />
        </div>
    </div>

    <h3 translate>USER.NEW</h3>

    <div class="form-account">
        <form novalidate name="user_config_form" ng-submit="createUser()">
            <div class="form-group has-feedback">
                <label for="first_name" translate>USER.FIRST_NAME</label>
                <input type="text" class="form-control" id="first_name" name="first_name" ng-model="user.name" required maxlength="100" />
                <div ng-show="user_config_form.first_name.$touched" ng-messages="user_config_form.first_name.$error" ng-messages-include="portal-error-messages">
                </div>
            </div>
            <div class="form-group has-feedback">
                <label for="email" translate>USER.EMAIL</label>
                <input type="email" class="form-control" id="email" name="email"
                       ng-model-options="{updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0}}"
                       ng-model="user.email" unique-email required maxlength="100" />
                <div ng-show="user_config_form.email.$touched" ng-messages="user_config_form.email.$error" 
                     ng-messages-include="portal-error-messages"></div>
            </div>
            <div class="form-group has-feedback">
                <label for="password" translate>USER.PASSWORD</label>
                <input type="password" class="form-control" id="password" name="password" ng-model="user.password" maxlength="20" minlength='8' required/>
                <div ng-show="user_config_form.password.$touched" ng-messages="user_config_form.password.$error" ng-messages-include="portal-error-messages">
                    <p ng-message="minlength" class="help-block">{{'USER.VALIDATION.SHORT_PASS'| translate}}</p>
                </div>
            </div>
            <div class="form-group has-feedback">
                <label for="passwordConf" translate>USER.CONFIRM</label>
                <input type="password" class="form-control" id="confirm" name="confirm" ng-model="confirmPass" required maxlength="100" compare-to="user.password" ng-model-options="{debounce: 500}" />
                <div ng-show="user_config_form.confirm.$touched" ng-messages="user_config_form.confirm.$error" ng-messages-include="portal-error-messages">
                    <p ng-message="compareTo" class="help-block">{{'USER.VALIDATION.COMPARE_PASS'| translate}}</p>
                </div>
            </div>
            <div class="text-right margin-top-single">
                <a ng-click="setSection(sections.login)" class="btn btn-default" translate>
                    LAYOUT.BACK
                </a>
                <button class="btn btn-primary" type='button' translate ng-disabled="user_config_form.$invalid" ng-click="createUser()">
                    USER.CREATE_ACCOUNT
                </button>
            </div>
        </form>
    </div>
</div>
<div ng-show="currentSection === sections.formInvited" class="create-account-form">

    <div class="header-login">
        <div class="logo">
            <img src="assets/img/connecta.png" alt="logo" class="logo-app-master" />
        </div>
    </div>

    <h3 translate>USER.NEW</h3>

    <div class="form-account">
        <form novalidate name="user_form" ng-submit="createInvited()">
            <div class="form-group has-feedback">
                <label for="first_name" translate>USER.FIRST_NAME</label>
                <input type="text" class="form-control" id="first_name" name="first_name" ng-model="invited.name" required maxlength="100" />
                <div ng-show="user_form.first_name.$touched" ng-messages="user_form.first_name.$error" ng-messages-include="portal-error-messages">
                </div>
            </div>
            <div class="form-group has-feedback">
                <label for="email" translate>USER.EMAIL</label>
                <input type="email" class="form-control" id="email" name="email" 
                       ng-model-options="{updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0}}"
                       ng-model="invited.email" unique-email initial-email="email"
                       required maxlength="100" />
                <div ng-show="user_form.email.$touched" ng-messages="user_form.email.$error" 
                     ng-messages-include="portal-error-messages"></div>
            </div>
            <div class="form-group has-feedback">
                <label for="password" translate>USER.PASSWORD</label>
                <input type="password" class="form-control" id="password" name="password" ng-model="invited.password" maxlength="20" minlength='8' required/>
                <div ng-show="user_form.password.$touched" ng-messages="user_form.password.$error" ng-messages-include="portal-error-messages">
                    <p ng-message="minlength" class="help-block">{{'USER.VALIDATION.SHORT_PASS'| translate}}</p>
                </div>
            </div>
            <div class="form-group has-feedback">
                <label for="passwordConf" translate>USER.CONFIRM</label>
                <input type="password" class="form-control" id="confirm" name="confirm" ng-model="confirmPass" required maxlength="100" compare-to="invited.password" ng-model-options="{debounce: 500}" />
                <div ng-show="user_form.confirm.$touched" ng-messages="user_form.confirm.$error" ng-messages-include="portal-error-messages">
                    <p ng-message="compareTo" class="help-block">{{'USER.VALIDATION.COMPARE_PASS'| translate}}</p>
                </div>
            </div>
            <div class="text-right margin-top-single">
                <a ng-click="setSection(sections.login)" class="btn btn-default" translate>
                    LAYOUT.BACK
                </a>
                <button class="btn btn-primary" type='button' translate ng-disabled="user_form.$invalid" ng-click="createInvited()">
                    USER.CREATE_ACCOUNT
                </button>
            </div>
        </form>
    </div>
</div>

<img alt="detail" class="bottom-right-detail" src="assets/img/bottom-right.svg" />
