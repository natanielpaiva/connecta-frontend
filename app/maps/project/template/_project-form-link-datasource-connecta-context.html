<div class="row">
    <div class="form-group col-md-4">
        <label class="required" translate>TÃ­tulo</label>
        <input ng-model="richLayerAdd.title" type="text" class="form-control" required/>
    </div>
</div>

<div class="row">
    <div class="form-group col-md-4">
        <label class="required" translate>Origem de dados espacial</label>
        <select ng-model="richLayerAdd.spatialDatasource" class="form-control"
                ng-change="getLayersBySpatialDS(richLayerAdd.spatialDatasource._id)"
                ng-options="spatialDataSource.title for spatialDataSource in spatialDataSources track by spatialDataSource.title"
                required>
            <option value="">Selecione</option>
        </select>
    </div>

    <div class="form-group col-md-4">
        <label class="required" translate>Camada Geo</label>
        <select ng-model="richLayerAdd.layer" class="form-control"
                ng-change="getColumnsByLayer(richLayerAdd.layer._id)"
                ng-disabled="layersBySpatials.length == 0"
                ng-options="layers.title for layers in layersBySpatials track by layers._id" required>
            <option value="">Selecione</option>
        </select>
    </div>

    <div class="form-group col-md-4">
        <label class="required" translate>Campo</label>
        <select ng-model="richLayerAdd.crossingKeys.geoKey" ng-disabled="columnsByLayer.length == 0" class="form-control"
                ng-options="column.name as column.name for column in columnsByLayer" required>
            <option value="">Selecione</option>
        </select>
    </div>
</div>

<div class="row">
    <div class="form-group col-md-4">
        <label class="required" translate>Origem de dados tabular</label>
        <select ng-model="richLayerAdd.dataSourceIdentifier"
                ng-change="onDataSourceChange(richLayerAdd.dataSourceIdentifier)"
                ng-options="datasource.info.analysis.id as datasource.title for datasource in datasources"
                class="form-control"
                required>
            <option value="">Selecione</option>
        </select>
    </div>

    <div class="form-group col-md-4">
        <label class="required" translate>Campo</label>
        <select ng-model="richLayerAdd.crossingKeys.resultSetKey" class="form-control"
                ng-options="column.name as column.label for column in columns" required>
            <option value="">Selecione</option>
        </select>
    </div>
</div>

<button class="btn btn-block"
        ng-click="toggleOptionAdd(richLayerAdd)">
    Salvar
</button>

<button class="btn btn-block margin-bottom-double btn-danger"
        ng-click="cancel()">
    Cancelar
</button>
<pre>{{datasources | json}}</pre>
<pre>{{richLayerAdd | json}}</pre>
