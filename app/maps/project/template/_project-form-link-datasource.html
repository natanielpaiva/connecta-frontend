<section>

    <!--<treecontrol-->
    <!--class="tree-classic"-->
    <!--tree-model="dataObiee"-->
    <!--options="treeOptions"-->
    <!--selected-node="node1">-->
    <!--<span ng-click="getPath($index, node.path)">{{node.name}}</span>-->
    <!--</treecontrol>-->


    <h4>Camadas geográficas</h4>
    <!--TABELA-->
    <table class="table table-striped table-hover" show-filter="true">
        <thead>
        <tr class="row">
            <th class="col-md-1">Nível</th>
            <th class="col-md-3">Título</th>
            <th class="col-md-3">Camada</th>
            <th class="col-md-2">Campo</th>
            <th class="col-md-2">Tabela</th>
            <th class="col-md-2">Campo</th>
            <th class="col-md-1">Associar</th>
        </tr>
        </thead>
        <tbody dnd-list="project.richLayers" class="rich-layers-table">

        <tr ng-if="projects.length === 0" class="row">
            <td class="col-xs-12 text-center" colspan="12" translate>
                LAYOUT.NO_RESULTS
            </td>
        </tr>

        <tr class="row"
             ng-repeat="richLayer in project.richLayers"
             dnd-draggable="richLayer"
             dnd-moved="project.richLayers.splice($index, 1)"
             dnd-effect-allowed="move">
            <td class="col-md-2">{{$index + 1}}</td>
            <td class="col-md-2">{{richLayer.title}}</td>
            <td class="col-md-2">{{richLayer.layer.title}}</td>
            <td class="col-md-2">{{richLayer.crossingKeys.geoKey}}</td>
            <td class="col-md-2">{{richLayer.dataSource.title}}</td>
            <td class="col-md-2">{{richLayer.crossingKeys.resultSetKey}}</td>
            <td class="">
                <a href="" class="full-size-block link-no-state">
                    <div class="col-xs-2">
                        <span class="glyphicon glyphicon-link"></span>
                    </div>
                </a>
            </td>
        </tr>

        </tbody>
    </table>

    <!--//TABELA-->
    <!--CADASTRO DE DRILL-->
    <div ng-if="!flag_add">
        <div ng-include="context[project.serviceType].linkDatasource.formTemplateUrl"></div>
    </div>

    <!--//CADASTRO DE DRILL-->
    <button class="btn btn-block margin-bottom-double {{flag_add ? 'btn-default' : 'btn-danger'}}"
            ng-click="toggleOptionAdd()">
        {{flag_add ? 'Adicionar' : 'Salvar'}}
    </button>

    <style>
        .rich-layers-table > li{
            list-style-type: none;
        }
    </style>


</section>
