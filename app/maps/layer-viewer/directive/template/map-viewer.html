<style>
    .box-loading-content {
        position: absolute;
        width: 40px;
        height: 32px;
        top: 50%;
        left: 50%;
        margin: -16px 0 0 -20px;
        text-align: center; }
    .box-loading-content > svg path,
    .box-loading-content > svg rect {
        fill: #3AB596;

    }
</style>

<link rel="stylesheet" ng-attr-href="{{mainCss}}">

<div ng-if="!isCreatingOrEditing" style="width: 100%; height: 100%;">
    <div id="{{ uuid }}" style="width: 100%; height: 100%; position: relative;">
        <div class="box-loading-content">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 width="24px" height="30px" viewBox="0 0 24 30" style="enable-background:new 0 0 50 50;" xml:space="preserve">
                <rect x="0" y="13" width="4" height="5" fill="#333">
                    <animate attributeName="height" attributeType="XML" values="5;21;5"
                             begin="0s" dur="0.6s" repeatCount="indefinite" />
                    <animate attributeName="y" attributeType="XML" values="13; 5; 13"
                             begin="0s" dur="0.6s" repeatCount="indefinite" />
                </rect>
                <rect x="10" y="13" width="4" height="5" fill="#333">
                    <animate attributeName="height" attributeType="XML" values="5;21;5"
                             begin="0.15s" dur="0.6s" repeatCount="indefinite" />
                    <animate attributeName="y" attributeType="XML" values="13; 5; 13"
                             begin="0.15s" dur="0.6s" repeatCount="indefinite" />
                </rect>
                <rect x="20" y="13" width="4" height="5" fill="#333">
                    <animate attributeName="height" attributeType="XML" values="5;21;5"
                             begin="0.3s" dur="0.6s" repeatCount="indefinite" />
                    <animate attributeName="y" attributeType="XML" values="13; 5; 13"
                             begin="0.3s" dur="0.6s" repeatCount="indefinite" />
                </rect>
            </svg>
        </div>
    </div>
</div>


<div ng-if="isCreatingOrEditing"  class="fullHeightAndWidth" style="position: relative">
    <link rel="stylesheet" href="../../../bower_components/leaflet/dist/leaflet.css">
    <div class="fullHeightAndWidth map-mask"></div>

    <h3 class="map-title">{{model.title}}</h3>

    <div class="fullHeightAndWidth">
        <div class="fullHeightAndWidth" id="_mapDivProjectView{{mapDivId}}" ng-init="initMap()"></div>
    </div>
</div>

<style>
    .fullHeightAndWidth {
        height: 100%;
        width: 100%;
        min-height: 218px;
    }
    .map-mask {
        opacity: 0.2;
        background-color: black;
        z-index: 999;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
    }
    .map-title {
        z-index: 99999;
        top: 50%;
        left: 50%;
        color: white;
        transform: translateY(-50%) translateX(-50%);
        position: absolute;
    }
</style>
