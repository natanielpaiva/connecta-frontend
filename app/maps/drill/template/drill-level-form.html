<div class="row">
    <div class="col-md-12">        
        <h3 translate>{{isEditing ? 'DRILL_LEVEL.EDIT' : 'DRILL_LEVEL.ADD'}}</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <form novalidate name="formulario" ng-submit="submit()">

            <div class="form-group">
                <label for="name" translate>DRILL_LEVEL.NAME</label>
                <input type="text"  class="form-control" id="description" name="name"
                       ng-model="drillLevel.name" required/>
                <div ng-show="formulario.name.$touched" ng-messages="formulario.description.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="parent" translate>DRILL_LEVEL.PARENT_LEVEL</label>
                <select class="form-control" 
                        name="parent" 
                        ng-model="drillLevel.parentViewer"
                        ng-change="getLayerColumnsFromViewer(drillLevel.parentViewer, 'parent')"
                        id="parent" 
                        ng-options="parentViewer.nm_viewer for parentViewer in viewers" required>
                    <option value="" translate> DRILL.ANALYSIS_SELECT</option>
                </select>
                <div ng-show="formulario.parent.$touched && formulario.parent.$invalid" ng-messages="formulario.parent.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="parentcolumn" translate>DRILL_LEVEL.PARENT_LEVEL_COLUMN</label>
                <select class="form-control" 
                        name="parentcolumn" 
                        ng-model="drillLevel.parentColumn"                        
                        id="parentColumn" 
                        ng-options="column.columnName for column in parentColumns" required>
                    <option value="" translate> DRILL.ANALYSIS_SELECT</option>
                </select>
                <div ng-show="formulario.parentcolumn.$touched" ng-messages="formulario.parentcolumn.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>                  

            <div class="form-group">
                <label for="child" translate>DRILL_LEVEL.CHILD_LEVEL</label>
                <select class="form-control" 
                        name="child" 
                        ng-model="drillLevel.childViewer"
                        ng-change="getLayerColumnsFromViewer(drillLevel.childViewer, 'child')"
                        id="child" 
                        ng-options="childViewer.nm_viewer for childViewer in viewers" required>
                    <option value="" translate> DRILL.ANALYSIS_SELECT</option>
                </select>
                <div ng-show="formulario.child.$touched" ng-messages="formulario.child.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>


            <div class="form-group">
                <label for="chidcolumn" translate>DRILL_LEVEL.CHILD_LEVEL_COLUMN</label>
                <select class="form-control" 
                        name="childcolumn" 
                        ng-model="drillLevel.childColumn"                        
                        id="childColumn" 
                        ng-options="column.columnName for column in childColumns" required>
                    <option value="" translate> DRILL.ANALYSIS_SELECT</option>
                </select>
                <div ng-show="formulario.chidcolumn.$touched" ng-messages="formulario.chidcolumn.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>            



            <a href="" ng-click="cancel();"
               class="btn btn-default" translate>
                LAYOUT.CANCEL
            </a>
            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid" ng-click="ok(drillLevel);">
                LAYOUT.SAVE
            </button>
        </form>
    </div>
</div>
