<div class="datasource-view">
    <div class="row">
        <div class="col-md-10">
            <h3>
                <span class="{{types[datasource.type].icon}}"></span>
                {{datasource.name}}
            </h3>
        </div>
        <div class="col-md-2">
            <div class="btn-group pull-right">
                <a title="{{ 'VIEWER.EDIT' | translate }}" class="btn btn-default btn-sm" href="#/graph/datasource/{{datasource.id}}/edit">
                    <span class="icon-pencil" aria-hidden="true"></span>
                </a>
                <button title="{{ 'VIEWER.DELETE' | translate }}" 
                class="btn btn-default btn-sm" ng-click="excluir(datasource.id)">
                    <span class="icon-trash" aria-hidden="true"></span>
                </button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="well margin-top-single margin-bottom-single">
                <p ng-if="datasource.description">
                    <strong translate>VIEWER.DESCRIPTION</strong>:
                    {{datasource.description}}
                </p>

                <p ng-if="datasource.type" >
                    <strong translate>VIEWER.VIEWER_TYPE</strong>:
                    <span class="{{types[datasource.type].icon}}"></span>
                    {{types[datasource.type].name}}
                </p>

                <!-- banco de dados-->
                <p ng-if="datasource.driver"> 
                    <strong translate>VIEWER.DRIVER_NAME</strong>:
                    {{datasource.driver}}
                </p>

                <p ng-if="datasource.server">
                    <strong translate>VIEWER.SERVER</strong>:
                    <a href="{{datasource.server}}" target="_blank">
                        {{datasource.server}}
                    </a>
                </p>

                <p ng-if="datasource.port">
                    <strong translate>VIEWER.PORT</strong>:
                    {{datasource.port}}
                </p>

                <p ng-if="datasource.sid"> 
                    <strong translate>VIEWER.DATABASE</strong>:
                    {{datasource.sid}}
                </p>
                <!-- banco de dados -->

                <!-- endeca webservice-->
                <p ng-if="datasource.address"> 
                    <strong translate>VIEWER.ADDRESS</strong>:
                    <a href="{{datasource.address}}" target="_blank">
                        {{datasource.address}}
                    </a>
                </p>
                <!-- endeca -->

                <p ng-if="datasource.path">
                    <strong translate>VIEWER.PATH</strong>:
                    {{datasource.path}}
                </p>

                <!-- webservice -->
                <p ng-if="datasource.method">
                    <strong translate>VIEWER.METHOD</strong>:
                    {{datasource.method}}
                </p>

                <p ng-if="datasource.parameters && datasource.parameters.length">
                    <strong translate>VIEWER.PARAMETERS</strong>:
                </p>

                <ul ng-if="datasource.parameters" class="list-unstyled">
                    <li ng-repeat="p in datasource.parameters">
                        <kbd>{{p.params}}</kbd>
                        =
                        <code>{{p.value}}</code>
                    </li>
                </ul>

                <!--webservice-->
                <p ng-if="datasource.user">
                    <strong translate>VIEWER.USERNAME</strong>:
                    {{datasource.user}}
                </p>

                <p ng-if="datasource.password">
                    <strong translate>VIEWER.PASSWORD</strong>:
                    {{datasource.password | bullet:showPassword}}
                    <input type="checkbox" ng-model="showPassword" />
                </p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 text-right">
             <a href="#/graph/analysis/new/datasource/{{datasource.id}}" role="button" class="btn btn-default" translate>
                ANALYSIS.NEW_ANALYSIS
            </a>
            <button class="btn btn-default" ng-if="datasource.type == 'DATABASE'" ng-click="testConnection()" type="button" translate>
                VIEWER.TEST_CONNECTION
            </button>
            <a href="#/graph/datasource" role="button" class="btn btn-default" translate>
                LAYOUT.BACK
            </a>
        </div>
    </div>
</div>