<div class="row">
    <div class="col-md-12">        
        <h3 translate>{{isEditing ? 'SUPPLIER.EDIT' : 'SUPPLIER.ADD'}}</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <form novalidate name="formulario" ng-submit="submit()">

            <div class="form-group">
                <label for="cnpj" translate>SUPPLIER.CNPJ</label>
                <input type="number"  class="form-control" id="code" name="cnpj"
                       ng-model="supplier.cnpj" required/>
                <div ng-show="formulario.cnpj.$touched" ng-messages="formulario.cnpj.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="name" translate>SUPPLIER.SOCIAL_NAME</label>
                <input type="text" class="form-control" id="name" name="name"
                       ng-model="supplier.name" required/>
                <div ng-show="formulario.name.$touched" ng-messages="formulario.name.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="fantasyName" translate>SUPPLIER.FANTASY_NAME</label>
                <input type="text" class="form-control" id="certificateNumber" name="fantasyName"
                       ng-model="supplier.fantasyName" required/>
                <div ng-show="formulario.fantasyName.$touched" ng-messages="formulario.fantasyName.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>                  

            <div class="form-group">
                <label for="stateRegistration" translate>SUPPLIER.STATE_REGISTRATION</label>
                <input type="number" class="form-control" id="manufacturer" name="stateRegistration"
                       ng-model="supplier.stateRegistration" required/>
                <div ng-show="formulario.stateRegistration.$touched" ng-messages="formulario.stateRegistration.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>


            <div class="form-group">
                <label for="countyRegistration" translate>SUPPLIER.COUNTY_REGISTRATION</label>
                <input type="number" class="form-control" id="countyRegistration" name="countyRegistration"
                       ng-model="supplier.countyRegistration" required/>
                <div ng-show="formulario.countyRegistration.$touched" ng-messages="formulario.countyRegistration.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>            


            <box-table-inspection title="Endereços">
                <a type="button"  class="btn btn-inspection" href="" ng-click="openModal();">Adicionar</a>
                <table ng-table="tableParams">
                    <thead>
                        <tr>
                            <th translate>SUPPLIER_ADDRESS.DESCRIPTION</th>
                            <th translate>SUPPLIER_ADDRESS.CEP</th>
                            <th translate>SUPPLIER_ADDRESS.CITY</th>
                            <th translate>SUPPLIER_ADDRESS.STATE</th>
                            <th translate>SUPPLIER_ADDRESS.COUNTRY</th>
                            <th translate>SUPPLIER.ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="supplierAddress in supplierAddresses">
                            <td class="text-left">{{supplierAddress.description}}</td>
                            <td class="text-left">{{supplierAddress.cep}}</td>
                            <td class="text-left">{{supplierAddress.county}}</td>
                            <td class="text-left">{{supplierAddress.state}}</td>
                            <td class="text-left">{{supplierAddress.country}}</td>
                            <td>
                                <div class="btn-group">
                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="openModal({{supplierAddress}});">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </a>
                                    
                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="deleteSupplierAddress({{supplierAddress}});">
                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                    </a>                                  
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </box-table-inspection>
            </br>
            
             <box-table-inspection title="Responsáveis">
                <a type="button"  class="btn btn-inspection" href="" ng-click="openModalResponsible();">Adicionar</a>
                <table ng-table="tableParams">
                    <thead>
                        <tr>
                            <th translate>SUPPLIER.RESPONSIBLE_NAME</th>
                            <th translate>SUPPLIER.RESPONSIBLE_CPF</th>
                            <th translate>SUPPLIER.RESPONSIBLE_EMAIL</th>
                            <th translate>SUPPLIER.RESPONSIBLE_PHONE</th>
                            <th translate>SUPPLIER.ACTIONS</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="responsible in responsibles">
                            <td class="text-left">{{responsible.name}}</td>
                            <td class="text-left">{{responsible.cpf}}</td>
                            <td class="text-left">{{responsible.email}}</td>                            
                            <td class="text-left">{{responsible.phone}}</td>                            
                            <td>
                                <div class="btn-group">
                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="openModalResponsible({{responsible}});">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </a>
                                    
                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="deleteResponsible({{responsible}});">
                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                    </a>                                  
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </box-table-inspection>
            </br>

            <a href="#/inspection/supplier"
               class="btn btn-default" translate>
                LAYOUT.CANCEL
            </a>
            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid || supplierAddresses.length==0">
                LAYOUT.SAVE
            </button>            
        </form>
    </div>
</div>
