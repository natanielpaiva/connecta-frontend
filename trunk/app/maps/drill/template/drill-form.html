<div class="row">
    <div class="col-md-12">        
        <h3 translate>{{isEditing ? 'DRILL.EDIT' : 'DRILL.ADD'}}</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <form novalidate name="formulario" ng-submit="submit()">

            <div class="form-group">
                <label for="name" translate>DRILL.NAME</label>
                <input type="text" class="form-control" id="name" name="name"
                       ng-model="drill.name" required/>
                <div ng-show="formulario.name.$touched" ng-messages="formulario.name.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="drill" translate>DRILL.ANALYSIS</label>
                <select class="form-control" 
                        name="analysis" 
                        ng-model="responsible"
                        id="responsible" 
                        ng-options="analysis.name for analysis in analyses" required>
                    <option value="" translate> DRILL.ANALYSIS_SELECT</option>
                </select>
                <div ng-show="formulario.description.$touched" ng-messages="formulario.description.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>


            <box-table-maps title="DrillLevel">
                <a type="button"  class="btn btn-inspection" href="" ng-click="openModal();">Adicionar</a>
                <table ng-table="tableParams">
                    <thead>
                        <tr>
                            <th translate>DRILL_LEVEL.NAME</th>
                            <th translate>DRILL_LEVEL.PARENT</th>
                            <th translate>DRILL_LEVEL.PARENT_COLUMN</th>
                            <th translate>DRILL_LEVEL.CHILD</th>
                            <th translate>DRILL_LEVEL.CHILD_COLUMN</th>
                            <th translate>DRILL_LEVEL.ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="drillLevel in drillLevels">
                            <td class="text-left">{{drillLevel.name}}</td>
                            <td class="text-left">{{drillLevel.parent}}</td>
                            <td class="text-left">{{drillLevel.parent_column}}</td>
                            <td class="text-left">{{drillLevel.child}}</td>
                            <td class="text-left">{{drillLevel.chid_column}}</td>
                            <td>
                                <div class="btn-group">
                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="openModal({{drillLevel}});">
                                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                                    </a>

                                    <a href="" role="button" class="btn btn-sm btn-danger" ng-click="deleteDrillLevel({{drillLevel}});">
                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                    </a>                                  
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </box-table-maps>
            </br>

            <a href="#/maps/drill"
               class="btn btn-default" translate>
                LAYOUT.CANCEL
            </a>
            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid || drillLevels.length == 0">
                LAYOUT.SAVE
            </button>            
        </form>
    </div>
</div>
