<div class="row">
    <div class="col-md-12">        
        <h3 translate>{{isEditing ? 'APPLIEDBUDGET.EDIT' : 'APPLIEDBUDGET.ADD'}}</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <form novalidate name="formulario" ng-submit="submit()">


            <div class="form-group">
                <label for="municipalBudget" translate>APPLIEDBUDGET.MUNICIPALBUDGET</label>

                <select class="form-control" 
                        name="municipalBudget" 
                        ng-model="appliedBudget.municipalBudget"
                        id="municipalBudget" 
                        ng-options="municipalBudget.programName + '----> '+ municipalBudget.activityProjectName  for municipalBudget in municipalBudgets" required>
                    <option value="" translate> APPLIEDBUDGET.SELECT_MUNICIPALBUDGET</option>
                </select>                
                <div ng-show="formulario.$submitted || formulario.municipalBudget.$touched" 
                     ng-messages="formulario.municipalBudget.$error"
                     ng-messages-include="portal-error-messages">
                </div>      
            </div>

            <div class="form-group">
                <label for="budgetApplicationArea" translate>APPLIEDBUDGET.APPLICATION_AREA</label>

                <select class="form-control" 
                        name="budgetApplicationArea" 
                        ng-model="appliedBudget.budgetAreaApplication"
                        id="budgetAreaApplication" 
                        ng-options="budgetApplicationArea.description for budgetApplicationArea in budgetApplicationAreas" required>
                    <option value="" translate> APPLIEDBUDGET.SELECT_APPLICATION_AREA</option>
                </select>                
                <div ng-show="formulario.$submitted || formulario.budgetApplicationArea.$touched" 
                     ng-messages="formulario.budgetApplicationArea.$error"
                     ng-messages-include="portal-error-messages">
                </div>      
            </div>


            <div class="form-group">
                <label for="description" translate>APPLIEDBUDGET.DESCRIPTION</label>
                <textarea maxlength="200"  class="form-control" id="description" name="description"
                          ng-model="appliedBudget.description" 
                          required></textarea>
                <div ng-show="formulario.$submitted || formulario.description.$touched" 
                     ng-messages="formulario.description.$error"
                     ng-messages-include="portal-error-messages">
                </div>
            </div>


            <div class="form-group">
                <input type="button" id="btn_clearAddress" ng-click="clearAddress();" class="btn btn-primary" value="{{buttonsText.clear}}" style="left:415px;" translate><input type="text"  ng-autocomplete class="form-control" id="searchAddress" ng-model="searchAddress" style="width:400px"  name="searchAddress"/>
                <input type="button" id="btn_geocode" ng-click="geocodeAddress();" class="btn btn-primary" value="{{buttonsText.locate}}" translate>
                <input type="button" id="btn_drawMarker" ng-click="toggleDrawMarker();" class="btn btn-primary" value="{{buttonsText.select}}" translate>
                <input type="button" id="btn_remoteMarker" ng-click="removeMarkers();" class="btn btn-primary" value="{{buttonsText.delete}}" translate>
                <input type="button" id="btn_dragMarker" ng-click="toggleDragControl();" class="btn btn-primary" value="{{buttonsText.drag}}" translate>
            </div>

            <div id="map-view" style="height: 430px;"></div>


            <a href="#/maps/applied-budget"
               class="btn btn-default" translate>
                LAYOUT.CANCEL
            </a>
            <!--            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid || addedMarkers()">-->
            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid || addedMarkers()">
                LAYOUT.SAVE
            </button>
        </form>
    </div>
</div>
