<div class="row">
    <div class="col-md-12">
        <h3 translate>{{isEditing ? INSPECTION.EDIT : INSPECTION.ADD}}</h3>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <form novalidate name="formulario" ng-submit="submit()">


            <div class="form-group">
                <label for="client" translate>INSPECTION.CLIENT</label>
                <select id="client" name="client" class="form-control" 
                        ng-options="cli as cli.name for cli in clients track by cli.id"
                        ng-model="inspection.client" required/>
                </select>
                <div ng-show="formulario.client.$touched" ng-messages="formulario.client.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="ri" translate>INSPECTION.NU_RI</label>
                <input type="text" class="form-control" id="ri" name="ri"
                       ng-model="inspection.ri" required/>
                <div ng-show="formulario.ri.$touched" ng-messages="formulario.ri.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>


            <div class="col-md-6" style="padding: 0px">
                <div class="form-group">
                    <label for="revision" translate>INSPECTION.REVISION</label>
                    <input type="text" class="form-control" id="revision" name="revision"
                           ng-model="inspection.ri" required/>
                    <div ng-show="formulario.revision.$touched" ng-messages="formulario.revision.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>

                <div class="form-group">
                    <label for="type" translate>INSPECTION.TYPE</label>
                    <input type="text" class="form-control" id="type" name="type"
                           ng-model="inspection.type" required/>
                    <div ng-show="formulario.type.$touched" ng-messages="formulario.type.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>
            </div>

            <div class="col-md-6" style="padding-right: 0px;">
                <div class="form-group">
                    <label for="convocationDate" translate>INSPECTION.DT_INSPECTION</label>
                    <inspect-datepicker date-model="inspection.convocationDate"/>
                    <div ng-show="formulario.convocationDate.$touched" ng-messages="formulario.convocationDate.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>

                <div class="form-group">
                    <label for="time" translate>INSPECTION.TIME</label>
                    <input type="text" class="form-control" id="time" name="time"
                           ng-model="inspection.ri" required/>
                    <div ng-show="formulario.time.$touched" ng-messages="formulario.time.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>
            </div>

            <div class="form-group">
                <label for="category" translate>INSPECTION.CATEGORY</label>
                <select id="client" name="client" class="form-control" 
                        ng-options="cli as cli.name for cli in clients track by cli.id"
                        ng-model="inspection.category" required/>
                </select>
                <div ng-show="formulario.category.$touched" ng-messages="formulario.category.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="col-md-6" style="padding: 0px">
                <div class="form-group">
                    <label for="convocationType" translate>INSPECTION.CONVOCATION_TYPE</label>
                    <input type="text" class="form-control" id="convocationType" name="convocationType"
                           ng-model="inspection.convocationType" required/>
                    <div ng-show="formulario.convocationType.$touched" ng-messages="formulario.convocationType.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>
            </div>

            <div class="col-md-6" style="padding-right: 0px;">
                <div class="form-group">
                    <label for="convocationDate" translate>INSPECTION.DT_CONVOCATION</label>
                    <inspect-datepicker date-model="inspection.convocationDate"/>
                    <div ng-show="formulario.convocationDate.$touched" ng-messages="formulario.convocationDate.$error"
                         ng-messages-include="portal-error-messages"></div>
                </div>
            </div>

            <div class="form-group">
                <label for="requester" translate>INSPECTION.REQUESTER</label>
                <select id="requester" name="requester" class="form-control" 
                        ng-options="cli as cli.name for cli in clients track by cli.id"
                        ng-model="inspection.requester" required/>
                </select>
                <div ng-show="formulario.requester.$touched" ng-messages="formulario.requester.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="l" translate>INSPECTION.INSPECTION_LOCATION</label>
                <select id="client" name="client" class="form-control" 
                        ng-options="cli as cli.name for cli in clients track by cli.id"
                        ng-model="inspection.category" required/>
                </select>
                <div ng-show="formulario.category.$touched" ng-messages="formulario.category.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="ri" translate>INSPECTION.PLAN_AP</label>
                <input type="text" class="form-control" id="ri" name="ri"
                       ng-model="notExist" required/>
                <div ng-show="formulario.ri.$touched" ng-messages="formulario.ri.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="draftNumber" translate>INSPECTION.NU_DRAFT</label>
                <input type="text" class="form-control" id="draftNumber" name="draftNumber"
                       ng-model="inspection.draftNumber" required/>
                <div ng-show="formulario.draftNumber.$touched" ng-messages="formulario.draftNumber.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <div class="form-group">
                <label for="objective" translate>INSPECTION.OBJECTIVE</label>
                <input type="text" class="form-control" id="objective" name="objective"
                       ng-model="inspection.objective" required/>
                <div ng-show="formulario.objective.$touched" ng-messages="formulario.objective.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>


            <box-table-inspection title="INSPECTION.PRODUCTS">
                <a type="button"  class="btn btn-inspection" ng-click="openModalProduct()">Adicionar</a>
                <table ng-table="tableParams">
                    <thead>
                        <tr>
                            <th translate>INSPECTION.PRODUCT.ITEM</th>
                            <th translate>INSPECTION.PRODUCT.QTD</th>
                            <th translate>INSPECTION.PRODUCT.TAM</th>
                            <th translate>INSPECTION.PRODUCT.DESC</th>
                            <th translate>INSPECTION.PRODUCT.NU_SE</th>
                            <th translate>INSPECTION.PRODUCT.APRS</th>
                            <th translate>INSPECTION.PRODUCT.LIB</th>
                            <th translate>INSPECTION.PRODUCT.SLD</th>
                            <th translate>INSPECTION.ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="obj in list">
                            <td>{{obj.name}}</td>
                            <td>{{obj.desc}}</td>
                            <td></td>
                    <td>
                        <div class="btn-group">
                            <a href="#/inspection/inspection/{{inspection.id}}/edit" role="button" class="btn btn-sm btn-danger">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </a>
                            <button type="button" class="btn btn-sm btn-danger"
                                    conf-modal="modalParams" conf-modal-args="[inspection.id]">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                            </button>
                        </div>
                    </td>
                    </tr>
                    </tbody>
                </table>
            </box-table-inspection>
            
            <box-table-inspection title="INSPECTION.PARTICIPANTS.PARTICIPANTS">
                <a type="button"  class="btn btn-inspection">Adicionar</a>
                <table ng-table="tableParams">
                    <thead>
                        <tr>
                            <th translate>INSPECTION.PARTICIPANTS.NAME</th>
                            <th translate>INSPECTION.PARTICIPANTS.CPF</th>
                            <th translate>INSPECTION.PARTICIPANTS.EMAIL</th>
                            <th translate>INSPECTION.PARTICIPANTS.PHONE</th>
                            <th translate>INSPECTION.PARTICIPANTS.PAPER</th>
                            <th translate>INSPECTION.ACTIONS</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="obj in list">
                            <td>{{obj.name}}</td>
                            <td>{{obj.desc}}</td>
                            <td></td>
                    <td>
                        <div class="btn-group">
                            <a href="#/inspection/inspection/{{inspection.id}}/edit" role="button" class="btn btn-sm btn-danger">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </a>
                            <button type="button" class="btn btn-sm btn-danger"
                                    conf-modal="modalParams" conf-modal-args="[inspection.id]">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                            </button>
                        </div>
                    </td>
                    </tr>
                    </tbody>
                </table>
            </box-table-inspection>
            
            <div class="form-group">
                <label for="supplier" translate>INSPECTION.CONTRACTUAL_DOCUMENTS</label>
                <drop-file files="contDocuments" 
                           documents="inspection.contDocuments" 
                           files-type=".jpeg,.jpg,.png"
                           type="TEST" />
                <div ng-show="formulario.supplier.$touched" ng-messages="formulario.supplier.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>
            
            <div class="form-group">
                <label for="supplier" translate>INSPECTION.STANDARDS</label>
                <drop-file files="standards" 
                           documents="inspection.standards" 
                           files-type=".jpeg,.jpg,.png"
                           type="TEST" />
                <div ng-show="formulario.supplier.$touched" ng-messages="formulario.supplier.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>
            
            <div class="form-group">
                <label for="supplier" translate>INSPECTION.PREVIOUS_DOCUMENTS</label>
                <drop-file files="prevDocuments" 
                           documents="inspection.prevDocuments" 
                           files-type=".jpeg,.jpg,.png"
                           type="TEST" />
                <div ng-show="formulario.supplier.$touched" ng-messages="formulario.supplier.$error"
                     ng-messages-include="portal-error-messages"></div>
            </div>

            <a href="#/speaknow/contact"
               class="btn btn-default" translate>
                LAYOUT.CANCEL
            </a>
            <button class="btn btn-primary" translate ng-disabled="formulario.$invalid">
                LAYOUT.SAVE
            </button>
        </form>
    </div>
</div>





<!--Exemplo de como usar o status-->
<!--<box-table-inspection title="Ações">
    <a type="button"  class="btn btn-inspection">Adicionar</a>
    <table ng-table="tableParams">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Descrição</th>
                <th>Status</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="obj in list">
                <td>{{obj.name}}</td>
                <td>{{obj.desc}}</td>
                <td>
        <status-change 
            types="status" 
            url="/inspection/status/"
            object="obj"
            callback="callbackStatus"/>
        </td>
        <td>
            <div class="btn-group">
                <a href="#/inspection/inspection/{{inspection.id}}/edit" role="button" class="btn btn-sm btn-danger">
                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                </a>
                <button type="button" class="btn btn-sm btn-danger"
                        conf-modal="modalParams" conf-modal-args="[inspection.id]">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                </button>
            </div>
        </td>
        </tr>
        </tbody>
    </table>
</box-table-inspection>

$scope.list = [
            {
                id: 0,
                name: "Nome",
                desc: "descrição da ação",
                status: "Aberto"
            },
            {
                id: 1,
                name: "Nome",
                desc: "descrição da ação",
                status: "Pendente"
            },
            {
                id: 2,
                name: "Nome",
                desc: "descrição da ação",
                status: "Fechado"
            }
        ];

        $scope.status = [
            {
                name: "Aberto",
                icon: "icon-heatmap"
            },
            {
                name: "Pendente",
                icon: "icon-analysis"
            },
            {
                name: "Fechado",
                icon: "icon-cluster"
            }
        ];
        
        $scope.callbackStatus = function(obj){
            console.log(obj);
        };
-->
